"use strict";function changeDate(t,e){return getEvents(e)}function readyDate(t,e){return getEvents(e)}function getEvents(t){var e={method:"get",mode:"cors",header:new Headers({"Content-Type":"application/json"})};fetch("http://api-pspbg.azurewebsites.net/v1/events/"+t,e).then(function(t){return t.json()}).then(function(e){return showEvents(e,t)})["catch"](function(t){return noEvents()})}function showEvents(t,e){var n='\n\t\t<table class="mt-2 striped">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th data-field="time">Hora</th>\n\t\t\t\t\t<th data-field="description">Descrição</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t';t.forEach(function(t,e){var a=formatTime(t.date);n+="\n\t\t\t<tr>\n\t\t\t\t<td>"+a+"</td>\n\t\t\t\t<td>"+t.description+"</td>\n\t\t\t</tr>\n\t\t"}),n+="</tbody></table>",0===t.length?noEvents():document.querySelector("#lista-eventos").innerHTML=n}function formatTime(t){var e=(new Date).getTimezoneOffset()/60,n=new Date(t),a=n.getHours()+e;a=1===a.toString().length?"0"+a:a;var r=n.getMinutes();r=1===r.toString().length?"0"+r:r;var o=n.getSeconds();return o=1===o.toString().length?"0"+o:o,a+":"+r}var datepicker=document.querySelector("#flatpickr"),datepicker_nav=document.querySelector("#flatpickr-nav");datepicker.flatpickr({locale:"pt",inline:!0,defaultDate:new Date,onReady:readyDate,onChange:changeDate}),datepicker_nav.flatpickr({locale:"pt",defaultDate:new Date,disableMobile:"true",onReady:readyDate,onChange:changeDate});var noEvents=function(){document.querySelector("#lista-eventos").innerHTML='<div class="center-align mt-10"><h5>Nenhum evento para esta data</h5></div>'};